{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "bridge-form-card",
  "type": "registry:component",
  "title": "Bridge Form Card",
  "description": "Cross-chain bridge form for MOR tokens",
  "dependencies": [
    "wagmi",
    "lucide-react"
  ],
  "files": [
    {
      "path": "registry/new-york/bridge-form-card/bridge-form-card.tsx",
      "content": "\"use client\";\n\nimport { useCallback, useMemo, useState } from \"react\";\nimport { useAccount, useWriteContract, useWaitForTransactionReceipt } from \"wagmi\";\nimport { Loader2, ArrowRightLeft } from \"lucide-react\";\nimport { NetworkBadge } from \"../network-icons/network-icons\";\nimport { cn } from \"@morpheus-ui/registry\";\nimport { MAINNET_CONTRACTS } from \"@morpheus-ui/registry\";\n\nconst BRIDGE_ABI = [\n  {\n    inputs: [\n      { name: \"amount\", type: \"uint256\" },\n      { name: \"destinationChainId\", type: \"uint256\" },\n    ],\n    name: \"bridge\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n] as const;\n\ninterface BridgeFormCardProps {\n  className?: string;\n}\n\nexport function BridgeFormCard({ className }: BridgeFormCardProps) {\n  const { address } = useAccount();\n  const [amount, setAmount] = useState(\"\");\n  const [sourceChain, setSourceChain] = useState<number>(8453);\n  const [destinationChain, setDestinationChain] = useState<number>(42161);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n\n  const { data: hash, isPending, writeContract } = useWriteContract();\n\n  const { isLoading: isConfirming, isSuccess } = useWaitForTransactionReceipt({\n    hash,\n  });\n\n  const sourceContracts =\n    MAINNET_CONTRACTS[sourceChain as keyof typeof MAINNET_CONTRACTS];\n  const destContracts =\n    MAINNET_CONTRACTS[destinationChain as keyof typeof MAINNET_CONTRACTS];\n\n  const handleAmountChange = useCallback((value: string) => {\n    const regex = /^\\d*\\.?\\d{0,18}$/;\n    if (regex.test(value) || value === \"\") {\n      setAmount(value);\n      setError(null);\n    }\n  }, []);\n\n  const handleSwapChains = useCallback(() => {\n    setSourceChain((prev) => (prev === 8453 ? 42161 : 8453));\n    setDestinationChain((prev) => (prev === 8453 ? 42161 : 8453));\n  }, []);\n\n  const handleBridge = useCallback(async () => {\n    if (!address || !amount || !sourceContracts?.MORToken) {\n      setError(\"Please connect your wallet and enter an amount\");\n      return;\n    }\n\n    const amountInWei = Math.floor(parseFloat(amount) * 1e18);\n    if (amountInWei <= 0) {\n      setError(\"Invalid amount\");\n      return;\n    }\n\n    try {\n      writeContract({\n        address: sourceContracts.MORToken,\n        abi: BRIDGE_ABI,\n        functionName: \"bridge\",\n        args: [BigInt(amountInWei), BigInt(destinationChain)],\n      });\n      setSuccess(true);\n    } catch {\n      setError(\"Failed to submit bridge transaction\");\n    }\n  }, [address, amount, destinationChain, sourceContracts?.MORToken, writeContract]);\n\n  const isDisabled = isPending || isConfirming || !address;\n\n  return (\n    <div className={cn(\"rounded-lg border bg-card p-6 shadow-sm\", className)}>\n      <div className=\"flex items-center gap-2 mb-4\">\n        <div className=\"p-2 rounded-lg bg-primary/10\">\n          <ArrowRightLeft className=\"h-5 w-5 text-primary\" />\n        </div>\n        <h3 className=\"font-semibold\">Bridge MOR Tokens</h3>\n      </div>\n\n      <div className=\"space-y-4\">\n        {/* Source Chain */}\n        <div className=\"space-y-2\">\n          <label className=\"text-sm font-medium\">From</label>\n          <div className=\"flex items-center gap-2\">\n            <NetworkBadge network={sourceChain === 8453 ? \"base\" : \"arbitrum\"} />\n            <select\n              value={sourceChain}\n              onChange={(e) => setSourceChain(Number(e.target.value))}\n              disabled={isDisabled}\n              className=\"flex-1 px-3 py-2 border rounded-lg bg-background\"\n            >\n              <option value={8453}>Base</option>\n              <option value={42161}>Arbitrum</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Swap Button */}\n        <div className=\"flex justify-center\">\n          <button\n            type=\"button\"\n            onClick={handleSwapChains}\n            disabled={isDisabled}\n            className=\"p-2 rounded-full border bg-muted hover:bg-muted/80 transition-colors\"\n          >\n            <ArrowRightLeft className=\"h-4 w-4\" />\n          </button>\n        </div>\n\n        {/* Destination Chain */}\n        <div className=\"space-y-2\">\n          <label className=\"text-sm font-medium\">To</label>\n          <div className=\"flex items-center gap-2\">\n            <NetworkBadge\n              network={destinationChain === 8453 ? \"base\" : \"arbitrum\"}\n            />\n            <select\n              value={destinationChain}\n              onChange={(e) => setDestinationChain(Number(e.target.value))}\n              disabled={isDisabled}\n              className=\"flex-1 px-3 py-2 border rounded-lg bg-background\"\n            >\n              <option value={8453}>Base</option>\n              <option value={42161}>Arbitrum</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Amount Input */}\n        <div className=\"space-y-2\">\n          <label htmlFor=\"bridge-amount\" className=\"text-sm font-medium\">\n            Amount\n          </label>\n          <input\n            id=\"bridge-amount\"\n            type=\"text\"\n            value={amount}\n            onChange={(e) => handleAmountChange(e.target.value)}\n            placeholder=\"0.00\"\n            disabled={isDisabled}\n            className={cn(\n              \"w-full px-3 py-2 font-mono text-lg border rounded-lg\",\n              \"focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\",\n              \"disabled:bg-muted disabled:cursor-not-allowed\"\n            )}\n          />\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <p className=\"text-sm text-destructive\">{error}</p>\n        )}\n\n        {/* Success Message */}\n        {isSuccess && (\n          <p className=\"text-sm text-green-600\">\n            Bridge successful!\n          </p>\n        )}\n\n        {/* Submit Button */}\n        <button\n          onClick={handleBridge}\n          disabled={isDisabled || !amount}\n          className={cn(\n            \"w-full py-3 px-4 rounded-lg font-medium transition-all\",\n            \"focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2\",\n            \"disabled:opacity-50 disabled:cursor-not-allowed\",\n            \"bg-primary text-primary-foreground hover:bg-primary-hover\"\n          )}\n        >\n          {isPending || isConfirming ? (\n            <span className=\"flex items-center justify-center gap-2\">\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n              {isPending ? \"Confirming...\" : \"Processing...\"}\n            </span>\n          ) : (\n            \"Bridge\"\n          )}\n        </button>\n\n        {/* Transaction Hash */}\n        {hash && (\n          <a\n            href={`https://basescan.org/tx/${hash}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"block text-xs text-muted-foreground hover:text-primary text-center\"\n          >\n            View transaction on Basescan\n          </a>\n        )}\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}