{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "chart-section",
  "type": "registry:component",
  "title": "Chart Section",
  "description": "Lightweight SVG-based chart components",
  "files": [
    {
      "path": "registry/new-york/capital/chart-section/chart-section.tsx",
      "content": "\"use client\";\n\nimport { useMemo } from \"react\";\nimport { cn } from \"@morpheus-ui/registry\";\n\ninterface ChartDataPoint {\n  timestamp: Date;\n  value: number;\n  label?: string;\n}\n\ninterface ChartSectionProps {\n  title: string;\n  data: ChartDataPoint[];\n  className?: string;\n  color?: string;\n  showLegend?: boolean;\n  loading?: boolean;\n}\n\nexport function ChartSection({\n  title,\n  data,\n  className,\n  color = \"#14b8a6\",\n  showLegend = true,\n  loading = false,\n}: ChartSectionProps) {\n  const maxValue = useMemo(() => {\n    return Math.max(...data.map((d) => d.value), 1);\n  }, [data]);\n\n  const chartHeight = 200;\n  const chartWidth = 100; // percentage\n\n  const points = useMemo(() => {\n    return data\n      .map((point, index) => {\n        const x = (index / (data.length - 1)) * 100;\n        const y = chartHeight - (point.value / maxValue) * chartHeight;\n        return `${x},${y}`;\n      })\n      .join(\" \");\n  }, [data, maxValue]);\n\n  const areaPoints = useMemo(() => {\n    return `0,${chartHeight} ${points} 100,${chartHeight}`;\n  }, [points]);\n\n  if (loading) {\n    return (\n      <div className={cn(\"rounded-lg border bg-card p-6\", className)}>\n        <div className=\"h-4 w-32 bg-muted rounded animate-pulse mb-4\" />\n        <div className=\"h-[200px] bg-muted rounded animate-pulse\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(\"rounded-lg border bg-card p-6\", className)}>\n      <h3 className=\"font-semibold mb-4\">{title}</h3>\n      <div className=\"relative\">\n        <svg\n          viewBox={`0 0 100 ${chartHeight}`}\n          className=\"w-full h-[200px]\"\n          preserveAspectRatio=\"none\"\n        >\n          {/* Gradient definition */}\n          <defs>\n            <linearGradient id={`gradient-${title.replace(/\\s/g, \"\")}`} x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\n              <stop offset=\"0%\" stopColor={color} stopOpacity=\"0.3\" />\n              <stop offset=\"100%\" stopColor={color} stopOpacity=\"0\" />\n            </linearGradient>\n          </defs>\n\n          {/* Area fill */}\n          <polygon\n            points={areaPoints}\n            fill={`url(#gradient-${title.replace(/\\s/g, \"\")})`}\n          />\n\n          {/* Line */}\n          <polyline\n            points={points}\n            fill=\"none\"\n            stroke={color}\n            strokeWidth=\"0.5\"\n            vectorEffect=\"non-scaling-stroke\"\n          />\n\n          {/* Data points */}\n          {data.map((point, index) => {\n            const x = (index / (data.length - 1)) * 100;\n            const y = chartHeight - (point.value / maxValue) * chartHeight;\n            return (\n              <circle\n                key={index}\n                cx={x}\n                cy={y}\n                r=\"1\"\n                fill={color}\n                className=\"opacity-0 hover:opacity-100 transition-opacity\"\n              />\n            );\n          })}\n        </svg>\n\n        {/* Y-axis labels */}\n        <div className=\"absolute left-0 top-0 h-full flex flex-col justify-between text-[8px] text-muted-foreground pointer-events-none\">\n          <span>{maxValue.toFixed(2)}</span>\n          <span>{(maxValue / 2).toFixed(2)}</span>\n          <span>0</span>\n        </div>\n      </div>\n\n      {showLegend && data.length > 0 && (\n        <div className=\"mt-4 flex items-center justify-between text-xs text-muted-foreground\">\n          <span>\n            {data[0].timestamp.toLocaleDateString()}\n          </span>\n          <span>\n            {data[data.length - 1].timestamp.toLocaleDateString()}\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface StackedBarChartProps {\n  title: string;\n  data: { label: string; values: { name: string; value: number; color: string }[] }[];\n  className?: string;\n  loading?: boolean;\n}\n\nexport function StackedBarChart({\n  title,\n  data,\n  className,\n  loading = false,\n}: StackedBarChartProps) {\n  const maxValue = useMemo(() => {\n    return Math.max(...data.map((bar) => bar.values.reduce((sum, v) => sum + v.value, 0)));\n  }, [data]);\n\n  if (loading) {\n    return (\n      <div className={cn(\"rounded-lg border bg-card p-6\", className)}>\n        <div className=\"h-4 w-32 bg-muted rounded animate-pulse mb-4\" />\n        <div className=\"h-[200px] bg-muted rounded animate-pulse\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(\"rounded-lg border bg-card p-6\", className)}>\n      <h3 className=\"font-semibold mb-4\">{title}</h3>\n      <div className=\"space-y-3\">\n        {data.map((bar, index) => {\n          const total = bar.values.reduce((sum, v) => sum + v.value, 0);\n          let accumulated = 0;\n\n          return (\n            <div key={index} className=\"flex items-center gap-2\">\n              <span className=\"w-16 text-xs text-muted-foreground truncate\">\n                {bar.label}\n              </span>\n              <div className=\"flex-1 h-6 rounded overflow-hidden flex bg-muted\">\n                {bar.values.map((value, vIndex) => {\n                  const width = (value.value / maxValue) * 100;\n                  const left = (accumulated / maxValue) * 100;\n                  accumulated += value.value;\n\n                  return (\n                    <div\n                      key={vIndex}\n                      style={{\n                        width: `${width}%`,\n                        backgroundColor: value.color,\n                      }}\n                      className=\"h-full transition-all hover:opacity-80\"\n                      title={`${value.name}: ${value.value.toLocaleString()}`}\n                    />\n                  );\n                })}\n              </div>\n              <span className=\"w-16 text-xs text-right font-mono\">\n                {total.toLocaleString()}\n              </span>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}